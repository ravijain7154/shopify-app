import {
  AppProvider
} from "./chunk-JYLBEPWV.js";
import {
  require_jsx_runtime
} from "./chunk-FH4OZRKN.js";
import {
  Form,
  Link
} from "./chunk-EIOD5HDG.js";
import "./chunk-6BLQ5MPO.js";
import "./chunk-HZQXY622.js";
import {
  require_react
} from "./chunk-OVMZXPEX.js";
import {
  __toESM
} from "./chunk-VRMXEQCD.js";

// node_modules/@shopify/shopify-app-remix/dist/esm/react/components/AppProvider/AppProvider.mjs
var import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);

// node_modules/@shopify/shopify-app-remix/dist/esm/react/const.mjs
var APP_BRIDGE_URL = "https://cdn.shopify.com/shopifycloud/app-bridge.js";

// node_modules/@shopify/shopify-app-remix/dist/esm/react/components/RemixPolarisLink.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react = __toESM(require_react(), 1);
var RemixPolarisLink = import_react.default.forwardRef((props, ref) => (0, import_jsx_runtime.jsx)(Link, { ...props, to: props.url ?? props.to, ref }));

// node_modules/@shopify/shopify-app-remix/dist/esm/react/components/AppProvider/AppProvider.mjs
var enI18n;
import("./en-7LAFXZWZ.js").then((module) => {
  enI18n = module.default;
}).catch((error) => console.error("Error loading JSON:", error));
function AppProvider2(props) {
  const { children, apiKey, i18n, isEmbeddedApp = true, __APP_BRIDGE_URL = APP_BRIDGE_URL, ...polarisProps } = props;
  return (0, import_jsx_runtime2.jsxs)(import_jsx_runtime2.Fragment, { children: [isEmbeddedApp && (0, import_jsx_runtime2.jsx)("script", { src: __APP_BRIDGE_URL, "data-api-key": apiKey }), (0, import_jsx_runtime2.jsx)(AppProvider, { ...polarisProps, linkComponent: RemixPolarisLink, i18n: i18n || englishI18n, children })] });
}

// node_modules/@shopify/shopify-app-remix/dist/esm/react/components/AppProxyProvider/AppProxyProvider.mjs
var import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);
var import_react3 = __toESM(require_react(), 1);
var AppProxyProviderContext = (0, import_react3.createContext)(null);
function AppProxyProvider(props) {
  const { children, appUrl } = props;
  const [requestUrl, setRequestUrl] = (0, import_react3.useState)();
  (0, import_react3.useEffect)(() => setRequestUrl(new URL(window.location.href)), [setRequestUrl]);
  return (0, import_jsx_runtime3.jsxs)(AppProxyProviderContext.Provider, { value: { appUrl, requestUrl, formatUrl: formatProxyUrl(requestUrl) }, children: [(0, import_jsx_runtime3.jsx)("base", { href: appUrl }), children] });
}
function formatProxyUrl(requestUrl) {
  return (url, addOrigin = true) => {
    if (!url) {
      return url;
    }
    let finalUrl = url;
    if (addOrigin && requestUrl && finalUrl.startsWith("/")) {
      finalUrl = new URL(`${requestUrl.origin}${url}`).href;
    }
    if (!finalUrl.endsWith("/")) {
      finalUrl = `${finalUrl}/`;
    }
    return finalUrl;
  };
}

// node_modules/@shopify/shopify-app-remix/dist/esm/react/components/AppProxyForm/AppProxyForm.mjs
var import_jsx_runtime4 = __toESM(require_jsx_runtime(), 1);
var import_react4 = __toESM(require_react(), 1);
function AppProxyForm(props) {
  const context = (0, import_react4.useContext)(AppProxyProviderContext);
  if (!context) {
    throw new Error("AppProxyForm must be used within an AppProxyProvider component");
  }
  const { children, action, ...otherProps } = props;
  return (0, import_jsx_runtime4.jsx)(Form, { action: context.formatUrl(action, false), ...otherProps, children });
}

// node_modules/@shopify/shopify-app-remix/dist/esm/react/components/AppProxyLink/AppProxyLink.mjs
var import_jsx_runtime5 = __toESM(require_jsx_runtime(), 1);
var import_react6 = __toESM(require_react(), 1);
function AppProxyLink(props) {
  const context = (0, import_react6.useContext)(AppProxyProviderContext);
  if (!context) {
    throw new Error("AppProxyLink must be used within an AppProxyProvider component");
  }
  const { children, href, ...otherProps } = props;
  return (0, import_jsx_runtime5.jsx)("a", { href: context.formatUrl(href), ...otherProps, children });
}
export {
  AppProvider2 as AppProvider,
  AppProxyForm,
  AppProxyLink,
  AppProxyProvider,
  AppProxyProviderContext
};
//# sourceMappingURL=@shopify_shopify-app-remix_react.js.map
